import{n as C,L as y,P as x,l as S,k as T,o as D,H as v,D as L,p as W,W as j,O as H,q as P,A as I,s as A}from"./main-C6NlU7zB.js";import{i as R}from"./inspector-CG13i2tW.js";C.registerDefaultPlayTriggers();const E=!1,M=new y;let i,c,r,d,a,u,o,h,s,m;const z=new A,g={asset:"Samba Dancing"},G=["Samba Dancing","morph_test"];O();function O(){const t=document.createElement("div");document.body.appendChild(t),c=new x(75,window.innerWidth/window.innerHeight,.1,1e4),c.position.set(100,200,300),r=new S(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,.1,1e4),r.position.set(100,200,300),i=c,window.addEventListener("keydown",p=>{p.code==="KeyC"&&(i===c?i=r:i=c,s.object=i,typeof l<"u"&&l({camera:i}))}),d=new T,d.background=new D(10526880);const n=new v(16777215,4473924,5);n.position.set(0,200,0),d.add(n);const e=new L(16777215,5);e.position.set(0,200,100),e.castShadow=!0,e.shadow.camera.top=180,e.shadow.camera.bottom=-100,e.shadow.camera.left=-120,e.shadow.camera.right=120,d.add(e),h=new W(M),b(g.asset),a=new j({antialias:!0}),a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),a.setAnimationLoop(k),a.shadowMap.enabled=!0,t.appendChild(a.domElement),s=new H(i,a.domElement),s.target.set(0,100,0),s.update(),s.enabled=E,window.addEventListener("resize",_),u=new P,t.appendChild(u.dom)}function b(t){h.load("/models/FromThreeRepo/fbx/"+t+".fbx",function(n){o&&(o.traverse(function(e){e.material&&(Array.isArray(e.material)?e.material:[e.material]).forEach(w=>{w.map&&w.map.dispose(),w.dispose()}),e.geometry&&e.geometry.dispose()}),d.remove(o)),o=n,o.__inspectorData.isInspectable=!0,o.animations&&o.animations.length?(m=new I(o),m.clipAction(o.animations[0]).play()):m=null,delete f.morphs,o.traverse(function(e){e.isMesh&&(f.morphs={},e.castShadow=!0,e.receiveShadow=!0,e.morphTargetDictionary&&(f.morphs[e.name||e.uuid]={},Object.keys(e.morphTargetDictionary).forEach(p=>{f.morphs[e.name||e.uuid][p]={object:e.morphTargetInfluences,prop:e.morphTargetDictionary[p],control:{label:p,min:0,max:1,onChange:w=>{e.morphTargetInfluences[e.morphTargetDictionary[p]]=w}}}})))}),typeof l<"u"&&l(),d.add(o)})}function _(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),r.left=window.innerWidth/-2,r.right=window.innerWidth/2,r.top=window.innerHeight/2,r.bottom=window.innerHeight/-2,r.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}function k(t,n){const e=n??z.getDelta();m&&m.update(e),a.render(d,i),u.update()}function F({r3fThreeGet:t,r3fThreeSet:n}){console.log({r3fThreeGet:t(),r3fThreeSet:n})}const f={asset:{object:g,prop:"asset",control:{label:"Asset",options:G.reduce((t,n)=>(t[n]=n,t),{}),onChange:b}}};let l;setTimeout(()=>{l=R({camera:i,scene:d,renderer:a,frameloop:"always",autoNavControls:"whenStopped",customParams:f,showInspector:!0,showGizmos:!0,useTransformControls:!0,onPlay:()=>{},onRender:()=>{},onTransformControlsDragging:n=>{const e=s.enabled;s.enabled=n?!1:e},onPlayingStateChange:n=>{m&&(n==="playing"?m.timeScale=1:m.timeScale=0),s.enabled=n!=="stopped"},r3fThreeGetSet:F}).updateInspector},2e3);
//# sourceMappingURL=bar-EcRw2ouJ.js.map
