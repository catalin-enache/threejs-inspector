import{h,p as C,L as y,P as j,l as x,k as S,n as T,H as D,D as v,o as L,W as P,O as W,A as H,q as I}from"./projects-C5UWmgOH.js";import{i as A}from"./inspector-TtYQXTcF.js";import"./CustomControl-DBtwyu-d.js";h.setProjects(C);h.registerDefaultPlayTriggers();h.injectStats();const R=!1,E=new y;let i,p,r,d,a,o,u,s,c;const M=new I,g={asset:"Samba Dancing"},z=["Samba Dancing","morph_test"];G();function G(){const t=document.createElement("div");document.body.appendChild(t),p=new j(75,window.innerWidth/window.innerHeight,.1,1e4),p.position.set(100,200,300),r=new x(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,.1,1e4),r.position.set(100,200,300),i=p,window.addEventListener("keydown",m=>{m.code==="KeyC"&&(i===p?i=r:i=p,s.object=i,typeof l<"u"&&l({camera:i}))}),d=new S,d.background=new T(10526880);const n=new D(16777215,4473924,5);n.position.set(0,200,0),d.add(n);const e=new v(16777215,5);e.position.set(0,200,100),e.castShadow=!0,e.shadow.camera.top=180,e.shadow.camera.bottom=-100,e.shadow.camera.left=-120,e.shadow.camera.right=120,d.add(e),u=new L(E),b(g.asset),a=new P({antialias:!0}),a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),a.setAnimationLoop(_),a.shadowMap.enabled=!0,t.appendChild(a.domElement),s=new W(i,a.domElement),s.target.set(0,100,0),s.update(),s.enabled=R,window.addEventListener("resize",O)}function b(t){u.load("models/FromThreeRepo/fbx/"+t+".fbx",function(n){o&&(o.traverse(function(e){e.material&&(Array.isArray(e.material)?e.material:[e.material]).forEach(w=>{w.map&&w.map.dispose(),w.dispose()}),e.geometry&&e.geometry.dispose()}),d.remove(o)),o=n,o.__inspectorData.isInspectable=!0,o.animations&&o.animations.length?(c=new H(o),c.clipAction(o.animations[0]).play()):c=null,delete f.morphs,o.traverse(function(e){e.isMesh&&(f.morphs={},e.castShadow=!0,e.receiveShadow=!0,e.morphTargetDictionary&&(f.morphs[e.name||e.uuid]={},Object.keys(e.morphTargetDictionary).forEach(m=>{f.morphs[e.name||e.uuid][m]={object:e.morphTargetInfluences,prop:e.morphTargetDictionary[m],control:{label:m,min:0,max:1,onChange:w=>{e.morphTargetInfluences[e.morphTargetDictionary[m]]=w}}}})))}),typeof l<"u"&&l(),d.add(o)})}function O(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),r.left=window.innerWidth/-2,r.right=window.innerWidth/2,r.top=window.innerHeight/2,r.bottom=window.innerHeight/-2,r.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}function _(t,n){const e=n??M.getDelta();c&&c.update(e),a.render(d,i)}function k({r3fThreeGet:t,r3fThreeSet:n}){console.log({r3fThreeGet:t(),r3fThreeSet:n})}const f={asset:{object:g,prop:"asset",control:{label:"Asset",options:z.reduce((t,n)=>(t[n]=n,t),{}),onChange:b}}};let l;setTimeout(()=>{l=A({camera:i,scene:d,renderer:a,frameloop:"always",autoNavControls:"whenStopped",customParams:f,showInspector:!0,showGizmos:!0,useTransformControls:!0,onPlay:()=>{},onRender:()=>{},onTransformControlsDragging:n=>{const e=s.enabled;s.enabled=n?!1:e},onPlayingStateChange:n=>{c&&(n==="playing"?c.timeScale=1:c.timeScale=0),s.enabled=n!=="stopped"},r3fThreeGetSet:k}).updateInspector},2e3);
//# sourceMappingURL=index_injected_native-CclfWItT.js.map
