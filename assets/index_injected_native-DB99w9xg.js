import{c as u,p as C,L as y,P as x,O as j,q as S,b as T,H as v,v as D,w as L,t as P,o as H,A as W,x as I}from"./projects-c7hg0m_1.js";import{i as A}from"./inspector-ChCrcAjU.js";import"./CustomControl-C-Y4JY_2.js";u.setProjects(C);u.registerDefaultPlayTriggers();u.injectStats();const R=!1,E=new y;let i,p,r,d,a,o,h,s,c;const M=new I,g={asset:"Samba Dancing"},z=["Samba Dancing","morph_test"];G();function G(){const n=document.createElement("div");document.body.appendChild(n),p=new x(75,window.innerWidth/window.innerHeight,.1,1e4),p.position.set(100,200,300),r=new j(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,.1,1e4),r.position.set(100,200,300),i=p,window.addEventListener("keydown",m=>{m.code==="KeyC"&&(i===p?i=r:i=p,s.object=i,typeof l<"u"&&l({camera:i}))}),d=new S,d.background=new T(10526880);const t=new v(16777215,4473924,5);t.position.set(0,200,0),d.add(t);const e=new D(16777215,5);e.position.set(0,200,100),e.castShadow=!0,e.shadow.camera.top=180,e.shadow.camera.bottom=-100,e.shadow.camera.left=-120,e.shadow.camera.right=120,d.add(e),h=new L(E),b(g.asset),a=new P({antialias:!0}),a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),a.setAnimationLoop(_),a.shadowMap.enabled=!0,n.appendChild(a.domElement),s=new H(i,a.domElement),s.target.set(0,100,0),s.update(),s.enabled=R,window.addEventListener("resize",O)}function b(n){h.load("models/FromThreeRepo/fbx/"+n+".fbx",function(t){o&&(o.traverse(function(e){e.material&&(Array.isArray(e.material)?e.material:[e.material]).forEach(w=>{w.map&&w.map.dispose(),w.dispose()}),e.geometry&&e.geometry.dispose()}),d.remove(o)),o=t,o.__inspectorData.isInspectable=!0,o.animations&&o.animations.length?(c=new W(o),c.clipAction(o.animations[0]).play()):c=null,delete f.morphs,o.traverse(function(e){e.isMesh&&(f.morphs={},e.castShadow=!0,e.receiveShadow=!0,e.morphTargetDictionary&&(f.morphs[e.name||e.uuid]={},Object.keys(e.morphTargetDictionary).forEach(m=>{f.morphs[e.name||e.uuid][m]={object:e.morphTargetInfluences,prop:e.morphTargetDictionary[m],control:{label:m,min:0,max:1,onChange:w=>{e.morphTargetInfluences[e.morphTargetDictionary[m]]=w}}}})))}),typeof l<"u"&&l(),d.add(o)})}function O(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),r.left=window.innerWidth/-2,r.right=window.innerWidth/2,r.top=window.innerHeight/2,r.bottom=window.innerHeight/-2,r.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight)}function _(n,t){const e=t??M.getDelta();c&&c.update(e),a.render(d,i)}function k({r3fThreeGet:n,r3fThreeSet:t}){console.log({r3fThreeGet:n(),r3fThreeSet:t})}const f={asset:{object:g,prop:"asset",control:{label:"Asset",options:z.reduce((n,t)=>(n[t]=t,n),{}),onChange:b}}};let l;setTimeout(()=>{l=A({camera:i,scene:d,renderer:a,frameloop:"always",autoNavControls:"whenStopped",customParams:f,showInspector:!0,showGizmos:!0,useTransformControls:!0,onPlay:()=>{},onRender:()=>{},onTransformControlsDragging:t=>{const e=s.enabled;s.enabled=t?!1:e},onPlayingStateChange:t=>{c&&(t==="playing"?c.timeScale=1:c.timeScale=0),s.enabled=t!=="stopped"},r3fThreeGetSet:k}).updateInspector},2e3);
//# sourceMappingURL=index_injected_native-DB99w9xg.js.map
