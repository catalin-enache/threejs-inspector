import{e as G,T as U,r,u as H,a as y,b as j,S as v,j as u,c as O,C as _,K as w,i as K,d as V,f as k}from"./projects-BVb6TuA4.js";import{u as z,C as B}from"./CustomControl-B1XiD66J.js";G(U);let c,b=0;const A=({customParams:e,pathArray:n=[]})=>Object.keys(e).map(t=>{if(K(e[t])){const{object:o,prop:a,control:l}=e[t];return u.jsx(B,{name:t,object:o,prop:a,path:n.join("/"),control:l},t)}else return A({customParams:e[t],pathArray:[...n,t]})}).flat(1/0).filter(Boolean),L=r.memo(({autoNavControls:e="never",customParams:n,showInspector:t=!0,showGizmos:o=!0,useTransformControls:a=!0,onRender:l=()=>{},onPlay:R=()=>{},onTransformControlsDragging:E=()=>{},onPlayingStateChange:g=()=>{},r3fThreeGetSet:C,onSetupEffect:i,onThreeChange:T,onCPanelReady:h,onCPanelUnmounted:x,version:f=0})=>{H(l),z(R);const p=y(s=>s.get),d=y(s=>s.set),S=j(s=>s.playingState),m=r.useRef(g);m.current=g;const I=j(s=>s.isDraggingTransformControls),P=r.useRef(E);P.current=E;const F=r.useMemo(()=>{if(!n&&i?.(v.VERSION_CHANGED,{version:f,customParamsElements:null}),!n)return null;const s=A({customParams:n});return i?.(v.VERSION_CHANGED,{version:f,customParamsElements:s}),s},[n,f]);return r.useEffect(()=>{C?.({r3fThreeGet:p,r3fThreeSet:d})},[C,p,d]),r.useEffect(()=>{j.getState().setShowGizmos(o)},[o]),r.useEffect(()=>{j.getState().setUseTransformControls(a)},[a]),r.useEffect(()=>{P.current(I)},[I]),r.useEffect(()=>{m.current(S)},[S,m]),u.jsxs(u.Fragment,{children:[u.jsx(O,{isInjected:!0,autoNavControls:e,onSetupEffect:i,onThreeChange:T}),t&&u.jsx(_,{onCPanelReady:h,onCPanelUnmounted:x}),u.jsx(w,{}),F]})}),D=e=>{const{renderer:n,scene:t,camera:o,frameloop:a,autoNavControls:l,customParams:R,showInspector:E,showGizmos:g,useTransformControls:C,onRender:i,onPlay:T,onTransformControlsDragging:h,onPlayingStateChange:x,r3fThreeGetSet:f,onSetupEffect:p,onThreeChange:d,onCPanelReady:S,onCPanelUnmounted:m}=e;c?.configure({events:k,camera:o,scene:t,gl:n,frameloop:a}),c?.render(r.createElement(L,{autoNavControls:l,customParams:R,version:++b,showInspector:E,showGizmos:g,useTransformControls:C,onTransformControlsDragging:h,onPlayingStateChange:x,onSetupEffect:p,onThreeChange:d,onCPanelReady:S,onCPanelUnmounted:m,onRender:i,onPlay:T,r3fThreeGetSet:f}))},J=e=>{const n=e.renderer.domElement;return c=c||V(n),D(e),{unmountInspector(){b=0,c?.unmount(),c=null},updateInspector(t={}){D({...e,...t})}}};export{L as I,J as i};
//# sourceMappingURL=inspector-Dz-yuh7C.js.map
