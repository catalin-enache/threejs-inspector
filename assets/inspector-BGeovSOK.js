import{f as U,T as b,r,a as H,u as y,g as j,S as v,j as u,h as O,i as _,K as k,k as w,l as K,m as V}from"./projects-BRTcxqWl.js";import{u as z,C as B}from"./CustomControl-DaYTGWX8.js";U(b);let c,A=0;const F=({customParams:e,pathArray:n=[]})=>Object.keys(e).map(t=>{if(w(e[t])){const{object:o,prop:a,control:l}=e[t];return u.jsx(B,{name:t,object:o,prop:a,path:n.join("/"),control:l},t)}else return F({customParams:e[t],pathArray:[...n,t]})}).flat(1/0).filter(Boolean),L=r.memo(({autoNavControls:e="never",customParams:n,showInspector:t=!0,showGizmos:o=!0,useTransformControls:a=!0,onRender:l=()=>{},onPlay:R=()=>{},onTransformControlsDragging:E=()=>{},onPlayingStateChange:g=()=>{},r3fThreeGetSet:p,onSetupEffect:i,onThreeChange:T,onCPanelReady:h,onCPanelUnmounted:x,version:m=0})=>{H(l),z(R);const C=y(s=>s.get),d=y(s=>s.set),S=j(s=>s.playingState),f=r.useRef(g);f.current=g;const I=j(s=>s.isDraggingTransformControls),P=r.useRef(E);P.current=E;const G=r.useMemo(()=>{if(!n&&i?.(v.VERSION_CHANGED,{version:m,customParamsElements:null}),!n)return null;const s=F({customParams:n});return i?.(v.VERSION_CHANGED,{version:m,customParamsElements:s}),s},[n,m]);return r.useEffect(()=>{p?.({r3fThreeGet:C,r3fThreeSet:d})},[p,C,d]),r.useEffect(()=>{j.getState().setShowGizmos(o)},[o]),r.useEffect(()=>{j.getState().setUseTransformControls(a)},[a]),r.useEffect(()=>{P.current(I)},[I]),r.useEffect(()=>{f.current(S)},[S,f]),u.jsxs(u.Fragment,{children:[u.jsx(O,{isInjected:!0,autoNavControls:e,onSetupEffect:i,onThreeChange:T}),t&&u.jsx(_,{onCPanelReady:h,onCPanelUnmounted:x}),u.jsx(k,{}),G]})}),D=e=>{const{renderer:n,scene:t,camera:o,frameloop:a,autoNavControls:l,customParams:R,showInspector:E,showGizmos:g,useTransformControls:p,onRender:i,onPlay:T,onTransformControlsDragging:h,onPlayingStateChange:x,r3fThreeGetSet:m,onSetupEffect:C,onThreeChange:d,onCPanelReady:S,onCPanelUnmounted:f}=e;c?.configure({events:V,camera:o,scene:t,gl:n,frameloop:a}),c?.render(r.createElement(L,{autoNavControls:l,customParams:R,version:++A,showInspector:E,showGizmos:g,useTransformControls:p,onTransformControlsDragging:h,onPlayingStateChange:x,onSetupEffect:C,onThreeChange:d,onCPanelReady:S,onCPanelUnmounted:f,onRender:i,onPlay:T,r3fThreeGetSet:m}))},J=e=>{const n=e.renderer.domElement;return c=c||K(n),D(e),{unmountInspector(){A=0,c?.unmount(),c=null},updateInspector(t={}){D({...e,...t})}}};export{L as I,J as i};
//# sourceMappingURL=inspector-BGeovSOK.js.map
